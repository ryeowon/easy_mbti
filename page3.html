<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <title>EASY_MBTI</title>
  </head>
  <body>
    <div class="background">
      <div class="sub_title">
        미니 MBTI 테스트
      </div>
      
      <div id="question_card">
        <h5 id = "question">Q1. 오늘 신나게 놀고 에너지가 방전된 상태, 알고 보니 내일이 공휴일이라면?</h5>
        
        <button id = "btn1">바로 친구들과 약속을 잡는다.</button>
        <button id = "btn2">혼자만의 시간을 즐긴다.</button>
      </div>
      <a href="./index.html">
        <button class="main_button w-25">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-house-door-fill" viewBox="0 0 20 20">
            <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z"/>
          </svg>
          HOME</button>
      </a>

    </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script>
      let step = 1;
      let mbti = [];
      
      let button1 = document.querySelector('#btn1');
      let button2 = document.querySelector('#btn2');
      let question = document.querySelector('#question');

      button1.addEventListener("click", () => {
        console.log("button clicked");

        switch (step) {
          case 1:
            mbti.push("E");
            step = 2;
            question.innerHTML = "Q2. 영화를 보고 드는 생각은?"
            button1.innerHTML = "재미있었다 또는 재미없었다"
            button2.innerHTML = "내가 그 상황에 있었다면 어떤 행동을 했을 텐데.."
            break;
          case 2:
            mbti.push("S");
            step = 3;
            question.innerHTML = "Q3. 친구가 \"나 우울해서 머리 잘랐어\""
            button1.innerHTML = "잘 어울리네! 어디서 잘랐어?"
            button2.innerHTML = "무슨일인데? 괜찮아?"
            break;
          case 3:
            mbti.push("T");
            step = 4;
            question.innerHTML = "Q4. 여행갈 때 나는"
            button1.innerHTML = "모든 계획을 철저히 세운다."
            button2.innerHTML = "즉흥적인게 좋아! 꼭 가고 싶은 곳 몇 군데만 정해 둔다."
            break;
          case 4:
            mbti.push("J");
            question.innerHTML = "MBTI 결과";
            button1.parentNode.removeChild(button1);
            button2.parentNode.removeChild(button2);
            let result = document.createElement("h2");
            result.textContent = mbti[0] + mbti[1] + mbti[2] + mbti[3];

            let card = document.querySelector("#question_card");
            let link = document.createElement("a");
            link.href = "./page1.html";
            
            let btn = document.createElement("button");
            let restart = document.createElement("button");
            restart.addEventListener("click", () => {
              location.reload();
            })
            restart.textContent = "다시하기"
            link.appendChild(btn);
            btn.textContent = mbti[0] + mbti[1] + mbti[2] + mbti[3] + " 특징 알아보러 가기"
            card.appendChild(result);
            card.appendChild(link);
            card.appendChild(restart);
            break;
        }

      })

      button2.addEventListener("click", () => {
        switch (step) {
          case 1:
            mbti.push("I");
            step = 2;
            question.innerHTML = "Q2. 영화를 보고 드는 생각은?"
            button1.innerHTML = "재미있었다 또는 재미없었다"
            button2.innerHTML = "내가 그 상황에 있었다면 어떤 행동을 했을 텐데.."
            break;
          case 2:
            mbti.push("N");
            step = 3;
            question.innerHTML = "Q3. 친구가 \"나 우울해서 머리 잘랐어\""
            button1.innerHTML = "잘 어울리네! 어디서 잘랐어?"
            button2.innerHTML = "무슨일인데? 괜찮아?"
            break;
          case 3:
            mbti.push("F");
            step = 4;
            question.innerHTML = "Q4. 여행갈 때 나는"
            button1.innerHTML = "모든 계획을 철저히 세운다."
            button2.innerHTML = "즉흥적인게 좋아! 꼭 가고 싶은 곳 몇 군데만 정해 둔다."
            break;
          case 4:
            mbti.push("P");
            question.innerHTML = "MBTI 결과";
            button1.parentNode.removeChild(button1);
            button2.parentNode.removeChild(button2);
            let result = document.createElement("h2");
            result.textContent = mbti[0] + mbti[1] + mbti[2] + mbti[3];

            let card = document.querySelector("#question_card");
            let link = document.createElement("a");
            link.href = "./page1.html";
            
            let btn = document.createElement("button");
            let restart = document.createElement("button");
            restart.addEventListener("click", () => {
              location.reload();
            })
            link.appendChild(btn);
            restart.textContent = "다시하기"
            btn.textContent = mbti[0] + mbti[1] + mbti[2] + mbti[3] + " 특징 알아보러 가기"
            card.appendChild(result);
            card.appendChild(link);
            card.appendChild(restart);
            break;
        }
      })

      
    </script>
  </body>
</html>